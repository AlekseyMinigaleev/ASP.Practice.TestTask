# Описание проекта
Сервис для определения местоположения по IP-адресу с использованием минимум 2 сервис-провайдеров и возвращением результатов в формате JSON.<br>
По умолчанию все данные сохраняются в базу данных Sqlite IPLocationService.db. Также в проекте реализована возможность "горячего" добавления сервиса-провайдера.
## Технические требования
1. Язык программирования: C#
2. Стек технологий: ASP.NET Core (.NET 6.0+)
3. Веб-сервер: IIS

## Запуск проекта
1. Склонируйте проект на локальный компьютер
2. Откройте проект в Visual Studio
3. Убедитесь, что у вас установлен .NET 6.0+
4. Если нужно добавить новый сервис провайдер, то необходимо добавить в конфигурационный файл IpLocationService\IpLocationService\ConfigurationFiles\Providers.json новый объект:
```
"ProviderName": {
  "Id": "", 
  "Ip": "",
  "City": "",
  "Region": "",
  "Country": "",
  "Timezone": "",
  "Token": "",
  "url": ""
}
```
где поля:<br>
  "Id": "", <br>
  "Ip": "",<br>
  "City": "",<br>
  "Region": "",<br>
  "Country": "",<br>
  "Timezone": "",<br>
содержат названия полей, которые будут в ответе от провайдера<br>
"url": ""<br> содрежит URL-адрес для запросов к провайдеру, содержащий token для авторизации на сайте провайдера.<br>
5. Запустите приложение

## API методы
### Определение местоположения по IP
Метод для определения местоположения по IP-адресу с использованием указанного сервис-провайдера.

### Запрос
+ URL: http://localhost/Controller/Action
+ HTTP метод: POST/GET
+ Параметры:
  + IP - IP-адрес
  + PROVIDER - номер провайдера
### Ответ
+ Формат: JSON
+ Поля:
  + IP - IP-адрес
  + City - Город
  + Region - Регион
  + Country - Страна
  + Timezone - Временная зона
  + Пример запроса

### Пример запроса
POST http://localhost/Controller/Action
```
{
  "IP": "192.168.0.0",
  "PROVIDER": "1"
}
```
GET http://localhost/Controller/Action?IP=192.168.0.0&provider=2
### Пример ответа
```
{
  "IP": "192.168.0.0",
  "City": "Москва",
  "Region": "Москва",
  "Country": "Россия",
  "Timezone": "Europe/Moscow"
}
```

## Документация
Документация к коду находится в xml комментариях.
